# Benchmark Results

This benchmark compares ArcadeDB's vector index implementations (JVector vs HNSWLib) across multiple dataset sizes and index parameters.

## Dataset Information

**2. GloVe-100-Angular (`glove-100-angular.hdf5`)**

- **File Size:** 463 MB
- **Total Vectors:** 1,183,514 (~1.2 Million)
- **Dimensions:** 100
- **Test Queries:** 10,000

* **Name**: glove-100-angular
* **Source**: http://ann-benchmarks.com/glove-100-angular.hdf5
* **Metric**: Cosine
* **K Values**: [10, 50, 100]

## Targets & Use Cases

| k      | Recall target | Hit target | Use case                   |
| ------ | ------------- | ---------- | -------------------------- |
| 10     | 0.85–0.95     | 0.90–0.95  | Small corpora only         |
| **50** | **≥ 0.95**    | **≥ 0.99** | **Default RAG**            |
| 100    | 0.90–0.93     | ≈ 1.0      | Very large / noisy corpora |

As k increases, Recall@k can go down — but Hit@k must go up.

**Note:**

- **Parameter Semantics**: `m` and `ef` are not exactly equivalent between implementations:
  - **JVector**: `m` -> `max_connections`, `ef` -> `beam_width`.
  - **HNSWLib**: `m` -> `m`, `ef` -> `ef`.
- **HNSWLib**: `ef_construction` is fixed at 200. `ef` controls search recall/speed dynamically.
- **Metric Equations**:
  - **Euclidean (JVector)**: Similarity = $1 / (1 + d^2)$ (Higher is better)
  - **Euclidean (HNSWLib)**: Distance = $d^2$ (Lower is better)
  - **Cosine (JVector)**: Distance = $(1 - \cos(\theta)) / 2$ (Lower is better)
  - **Cosine (HNSWLib)**: Distance = $1 - \cos(\theta)$ (Lower is better)

## Scenario: Tiny

- **Dimensions**: 100
- **Vector Count**: 1000
- **Queries**: 10
- **Data Load Time**: 0.0017s
- **Ground Truth Time**: 0.0005s
- **DB Setup Time**: 0.8193s
- **Total Scenario Time**: 0.04 min (2.25s)

### k = 10

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms) | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | --------- | --------- | ---------- | ---------- |
| 8   | 32  | 0.8700±0.1187      | N/A                | 1.0000      | N/A         | 0.2644     | N/A        | 6.63±2.19 | N/A       | 5.49±1.95  | N/A        |
| 8   | 64  | 0.8800±0.1327      | N/A                | 1.0000      | N/A         | 0.1242     | N/A        | 2.53±0.40 | N/A       | 1.81±0.21  | N/A        |
| 8   | 128 | 0.9300±0.0640      | N/A                | 1.0000      | N/A         | 0.0898     | N/A        | 3.86±1.59 | N/A       | 3.08±1.53  | N/A        |
| 16  | 32  | 0.9800±0.0400      | N/A                | 1.0000      | N/A         | 0.0507     | N/A        | 3.24±0.60 | N/A       | 2.58±0.55  | N/A        |
| 16  | 64  | 0.9900±0.0300      | N/A                | 1.0000      | N/A         | 0.0685     | N/A        | 3.32±0.25 | N/A       | 2.61±0.27  | N/A        |
| 16  | 128 | 1.0000±0.0000      | N/A                | 1.0000      | N/A         | 0.0653     | N/A        | 3.44±0.41 | N/A       | 2.61±0.30  | N/A        |
| 32  | 32  | 1.0000±0.0000      | N/A                | 1.0000      | N/A         | 0.0950     | N/A        | 2.77±0.49 | N/A       | 2.21±0.37  | N/A        |
| 32  | 64  | 1.0000±0.0000      | N/A                | 1.0000      | N/A         | 0.0824     | N/A        | 3.60±1.37 | N/A       | 3.06±1.37  | N/A        |
| 32  | 128 | 1.0000±0.0000      | N/A                | 1.0000      | N/A         | 0.0904     | N/A        | 3.94±0.78 | N/A       | 3.14±0.80  | N/A        |

### k = 50

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms) | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | --------- | --------- | ---------- | ---------- |
| 8   | 32  | 0.8400±0.0727      | N/A                | 1.0000      | N/A         | 0.2644     | N/A        | 6.63±2.19 | N/A       | 5.49±1.95  | N/A        |
| 8   | 64  | 0.8280±0.0796      | N/A                | 1.0000      | N/A         | 0.1242     | N/A        | 2.53±0.40 | N/A       | 1.81±0.21  | N/A        |
| 8   | 128 | 0.8500±0.0694      | N/A                | 1.0000      | N/A         | 0.0898     | N/A        | 3.86±1.59 | N/A       | 3.08±1.53  | N/A        |
| 16  | 32  | 0.9540±0.0335      | N/A                | 1.0000      | N/A         | 0.0507     | N/A        | 3.24±0.60 | N/A       | 2.58±0.55  | N/A        |
| 16  | 64  | 0.9760±0.0307      | N/A                | 1.0000      | N/A         | 0.0685     | N/A        | 3.32±0.25 | N/A       | 2.61±0.27  | N/A        |
| 16  | 128 | 0.9820±0.0189      | N/A                | 1.0000      | N/A         | 0.0653     | N/A        | 3.44±0.41 | N/A       | 2.61±0.30  | N/A        |
| 32  | 32  | 0.9940±0.0092      | N/A                | 1.0000      | N/A         | 0.0950     | N/A        | 2.77±0.49 | N/A       | 2.21±0.37  | N/A        |
| 32  | 64  | 0.9960±0.0080      | N/A                | 1.0000      | N/A         | 0.0824     | N/A        | 3.60±1.37 | N/A       | 3.06±1.37  | N/A        |
| 32  | 128 | 0.9920±0.0098      | N/A                | 1.0000      | N/A         | 0.0904     | N/A        | 3.94±0.78 | N/A       | 3.14±0.80  | N/A        |

### k = 100

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms) | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | --------- | --------- | ---------- | ---------- |
| 8   | 32  | 0.7870±0.0408      | N/A                | 1.0000      | N/A         | 0.2644     | N/A        | 6.63±2.19 | N/A       | 5.49±1.95  | N/A        |
| 8   | 64  | 0.7870±0.0393      | N/A                | 1.0000      | N/A         | 0.1242     | N/A        | 2.53±0.40 | N/A       | 1.81±0.21  | N/A        |
| 8   | 128 | 0.8070±0.0424      | N/A                | 1.0000      | N/A         | 0.0898     | N/A        | 3.86±1.59 | N/A       | 3.08±1.53  | N/A        |
| 16  | 32  | 0.9380±0.0275      | N/A                | 1.0000      | N/A         | 0.0507     | N/A        | 3.24±0.60 | N/A       | 2.58±0.55  | N/A        |
| 16  | 64  | 0.9640±0.0162      | N/A                | 1.0000      | N/A         | 0.0685     | N/A        | 3.32±0.25 | N/A       | 2.61±0.27  | N/A        |
| 16  | 128 | 0.9670±0.0190      | N/A                | 1.0000      | N/A         | 0.0653     | N/A        | 3.44±0.41 | N/A       | 2.61±0.30  | N/A        |
| 32  | 32  | 0.9890±0.0104      | N/A                | 1.0000      | N/A         | 0.0950     | N/A        | 2.77±0.49 | N/A       | 2.21±0.37  | N/A        |
| 32  | 64  | 0.9910±0.0083      | N/A                | 1.0000      | N/A         | 0.0824     | N/A        | 3.60±1.37 | N/A       | 3.06±1.37  | N/A        |
| 32  | 128 | 0.9930±0.0078      | N/A                | 1.0000      | N/A         | 0.0904     | N/A        | 3.94±0.78 | N/A       | 3.14±0.80  | N/A        |

## Scenario: Small

- **Dimensions**: 100
- **Vector Count**: 10000
- **Queries**: 100
- **Data Load Time**: 0.0097s
- **Ground Truth Time**: 0.0443s
- **DB Setup Time**: 1.3788s
- **Total Scenario Time**: 0.15 min (9.08s)

### k = 10

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)  | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ---------- | --------- | ---------- | ---------- |
| 8   | 32  | 0.7190±0.2390      | N/A                | 1.0000      | N/A         | 0.4592     | N/A        | 4.00±16.15 | N/A       | 1.80±0.78  | N/A        |
| 8   | 64  | 0.7210±0.2555      | N/A                | 1.0000      | N/A         | 0.2008     | N/A        | 2.12±0.36  | N/A       | 1.62±0.31  | N/A        |
| 8   | 128 | 0.7390±0.2429      | N/A                | 0.9900      | N/A         | 0.2669     | N/A        | 2.30±0.41  | N/A       | 1.78±0.33  | N/A        |
| 16  | 32  | 0.8760±0.1491      | N/A                | 1.0000      | N/A         | 0.2981     | N/A        | 3.77±0.74  | N/A       | 3.12±0.66  | N/A        |
| 16  | 64  | 0.9020±0.1364      | N/A                | 1.0000      | N/A         | 0.5820     | N/A        | 3.23±0.56  | N/A       | 2.71±0.51  | N/A        |
| 16  | 128 | 0.9100±0.1212      | N/A                | 1.0000      | N/A         | 0.5108     | N/A        | 3.30±0.69  | N/A       | 2.80±0.59  | N/A        |
| 32  | 32  | 0.9490±0.0975      | N/A                | 1.0000      | N/A         | 0.4355     | N/A        | 3.06±0.49  | N/A       | 2.67±0.47  | N/A        |
| 32  | 64  | 0.9610±0.0706      | N/A                | 1.0000      | N/A         | 0.5616     | N/A        | 3.68±0.74  | N/A       | 3.21±0.70  | N/A        |
| 32  | 128 | 0.9680±0.0598      | N/A                | 1.0000      | N/A         | 0.8821     | N/A        | 4.76±0.76  | N/A       | 4.18±0.67  | N/A        |

### k = 50

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)  | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ---------- | --------- | ---------- | ---------- |
| 8   | 32  | 0.6254±0.1950      | N/A                | 1.0000      | N/A         | 0.4592     | N/A        | 4.00±16.15 | N/A       | 1.80±0.78  | N/A        |
| 8   | 64  | 0.6488±0.2040      | N/A                | 1.0000      | N/A         | 0.2008     | N/A        | 2.12±0.36  | N/A       | 1.62±0.31  | N/A        |
| 8   | 128 | 0.6648±0.1968      | N/A                | 1.0000      | N/A         | 0.2669     | N/A        | 2.30±0.41  | N/A       | 1.78±0.33  | N/A        |
| 16  | 32  | 0.8030±0.1331      | N/A                | 1.0000      | N/A         | 0.2981     | N/A        | 3.77±0.74  | N/A       | 3.12±0.66  | N/A        |
| 16  | 64  | 0.8332±0.1242      | N/A                | 1.0000      | N/A         | 0.5820     | N/A        | 3.23±0.56  | N/A       | 2.71±0.51  | N/A        |
| 16  | 128 | 0.8398±0.1243      | N/A                | 1.0000      | N/A         | 0.5108     | N/A        | 3.30±0.69  | N/A       | 2.80±0.59  | N/A        |
| 32  | 32  | 0.9048±0.0846      | N/A                | 1.0000      | N/A         | 0.4355     | N/A        | 3.06±0.49  | N/A       | 2.67±0.47  | N/A        |
| 32  | 64  | 0.9274±0.0668      | N/A                | 1.0000      | N/A         | 0.5616     | N/A        | 3.68±0.74  | N/A       | 3.21±0.70  | N/A        |
| 32  | 128 | 0.9280±0.0639      | N/A                | 1.0000      | N/A         | 0.8821     | N/A        | 4.76±0.76  | N/A       | 4.18±0.67  | N/A        |

### k = 100

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)  | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ---------- | --------- | ---------- | ---------- |
| 8   | 32  | 0.5567±0.1699      | N/A                | 1.0000      | N/A         | 0.4592     | N/A        | 4.00±16.15 | N/A       | 1.80±0.78  | N/A        |
| 8   | 64  | 0.5767±0.1772      | N/A                | 1.0000      | N/A         | 0.2008     | N/A        | 2.12±0.36  | N/A       | 1.62±0.31  | N/A        |
| 8   | 128 | 0.5971±0.1756      | N/A                | 1.0000      | N/A         | 0.2669     | N/A        | 2.30±0.41  | N/A       | 1.78±0.33  | N/A        |
| 16  | 32  | 0.7476±0.1252      | N/A                | 1.0000      | N/A         | 0.2981     | N/A        | 3.77±0.74  | N/A       | 3.12±0.66  | N/A        |
| 16  | 64  | 0.7801±0.1230      | N/A                | 1.0000      | N/A         | 0.5820     | N/A        | 3.23±0.56  | N/A       | 2.71±0.51  | N/A        |
| 16  | 128 | 0.7893±0.1205      | N/A                | 1.0000      | N/A         | 0.5108     | N/A        | 3.30±0.69  | N/A       | 2.80±0.59  | N/A        |
| 32  | 32  | 0.8679±0.0789      | N/A                | 1.0000      | N/A         | 0.4355     | N/A        | 3.06±0.49  | N/A       | 2.67±0.47  | N/A        |
| 32  | 64  | 0.8881±0.0706      | N/A                | 1.0000      | N/A         | 0.5616     | N/A        | 3.68±0.74  | N/A       | 3.21±0.70  | N/A        |
| 32  | 128 | 0.8897±0.0712      | N/A                | 1.0000      | N/A         | 0.8821     | N/A        | 4.76±0.76  | N/A       | 4.18±0.67  | N/A        |

## Scenario: Medium

- **Dimensions**: 100
- **Vector Count**: 100000
- **Queries**: 1000
- **Data Load Time**: 0.0338s
- **Ground Truth Time**: 0.7971s
- **DB Setup Time**: 17.9529s
- **Total Scenario Time**: 1.95 min (117.00s)

### k = 10

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)  | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ---------- | --------- | ---------- | ---------- |
| 8   | 32  | 0.4586±0.3405      | N/A                | 0.8300      | N/A         | 1.7932     | N/A        | 2.62±0.72  | N/A       | 2.10±0.62  | N/A        |
| 8   | 64  | 0.5526±0.3439      | N/A                | 0.8820      | N/A         | 2.7661     | N/A        | 3.01±0.81  | N/A       | 2.43±0.73  | N/A        |
| 8   | 128 | 0.5930±0.3519      | N/A                | 0.8870      | N/A         | 4.3961     | N/A        | 2.74±0.76  | N/A       | 2.20±0.68  | N/A        |
| 16  | 32  | 0.7347±0.2794      | N/A                | 0.9810      | N/A         | 3.4322     | N/A        | 5.42±42.05 | N/A       | 4.91±42.04 | N/A        |
| 16  | 64  | 0.7783±0.2639      | N/A                | 0.9900      | N/A         | 5.9891     | N/A        | 3.48±0.84  | N/A       | 2.98±0.77  | N/A        |
| 16  | 128 | 0.7996±0.2484      | N/A                | 0.9930      | N/A         | 7.6290     | N/A        | 4.06±1.00  | N/A       | 3.50±0.92  | N/A        |
| 32  | 32  | 0.8495±0.2042      | N/A                | 0.9980      | N/A         | 6.8685     | N/A        | 4.82±1.26  | N/A       | 4.34±1.20  | N/A        |
| 32  | 64  | 0.8703±0.1847      | N/A                | 0.9990      | N/A         | 9.7867     | N/A        | 6.11±30.48 | N/A       | 5.59±30.48 | N/A        |
| 32  | 128 | 0.8741±0.1824      | N/A                | 0.9990      | N/A         | 14.9538    | N/A        | 5.47±1.24  | N/A       | 4.89±1.16  | N/A        |

### k = 50

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)  | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ---------- | --------- | ---------- | ---------- |
| 8   | 32  | 0.4181±0.2896      | N/A                | 0.9640      | N/A         | 1.7932     | N/A        | 2.62±0.72  | N/A       | 2.10±0.62  | N/A        |
| 8   | 64  | 0.4889±0.3003      | N/A                | 0.9720      | N/A         | 2.7661     | N/A        | 3.01±0.81  | N/A       | 2.43±0.73  | N/A        |
| 8   | 128 | 0.5227±0.3052      | N/A                | 0.9730      | N/A         | 4.3961     | N/A        | 2.74±0.76  | N/A       | 2.20±0.68  | N/A        |
| 16  | 32  | 0.6588±0.2576      | N/A                | 0.9990      | N/A         | 3.4322     | N/A        | 5.42±42.05 | N/A       | 4.91±42.04 | N/A        |
| 16  | 64  | 0.6990±0.2488      | N/A                | 0.9980      | N/A         | 5.9891     | N/A        | 3.48±0.84  | N/A       | 2.98±0.77  | N/A        |
| 16  | 128 | 0.7222±0.2369      | N/A                | 1.0000      | N/A         | 7.6290     | N/A        | 4.06±1.00  | N/A       | 3.50±0.92  | N/A        |
| 32  | 32  | 0.7743±0.2067      | N/A                | 1.0000      | N/A         | 6.8685     | N/A        | 4.82±1.26  | N/A       | 4.34±1.20  | N/A        |
| 32  | 64  | 0.7966±0.1931      | N/A                | 1.0000      | N/A         | 9.7867     | N/A        | 6.11±30.48 | N/A       | 5.59±30.48 | N/A        |
| 32  | 128 | 0.8027±0.1883      | N/A                | 1.0000      | N/A         | 14.9538    | N/A        | 5.47±1.24  | N/A       | 4.89±1.16  | N/A        |

### k = 100

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)  | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ---------- | --------- | ---------- | ---------- |
| 8   | 32  | 0.3812±0.2612      | N/A                | 0.9870      | N/A         | 1.7932     | N/A        | 2.62±0.72  | N/A       | 2.10±0.62  | N/A        |
| 8   | 64  | 0.4430±0.2716      | N/A                | 0.9900      | N/A         | 2.7661     | N/A        | 3.01±0.81  | N/A       | 2.43±0.73  | N/A        |
| 8   | 128 | 0.4729±0.2762      | N/A                | 0.9890      | N/A         | 4.3961     | N/A        | 2.74±0.76  | N/A       | 2.20±0.68  | N/A        |
| 16  | 32  | 0.6094±0.2446      | N/A                | 0.9990      | N/A         | 3.4322     | N/A        | 5.42±42.05 | N/A       | 4.91±42.04 | N/A        |
| 16  | 64  | 0.6455±0.2403      | N/A                | 0.9990      | N/A         | 5.9891     | N/A        | 3.48±0.84  | N/A       | 2.98±0.77  | N/A        |
| 16  | 128 | 0.6670±0.2316      | N/A                | 1.0000      | N/A         | 7.6290     | N/A        | 4.06±1.00  | N/A       | 3.50±0.92  | N/A        |
| 32  | 32  | 0.7264±0.2045      | N/A                | 1.0000      | N/A         | 6.8685     | N/A        | 4.82±1.26  | N/A       | 4.34±1.20  | N/A        |
| 32  | 64  | 0.7482±0.1966      | N/A                | 1.0000      | N/A         | 9.7867     | N/A        | 6.11±30.48 | N/A       | 5.59±30.48 | N/A        |
| 32  | 128 | 0.7555±0.1905      | N/A                | 1.0000      | N/A         | 14.9538    | N/A        | 5.47±1.24  | N/A       | 4.89±1.16  | N/A        |
