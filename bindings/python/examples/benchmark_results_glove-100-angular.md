# Benchmark Results

This benchmark compares ArcadeDB's vector index implementations (JVector vs HNSWLib) across multiple dataset sizes and index parameters.

## Dataset Information

**2. GloVe-100-Angular (`glove-100-angular.hdf5`)**
*   **File Size:** 463 MB
*   **Total Vectors:** 1,183,514 (~1.2 Million)
*   **Dimensions:** 100
*   **Test Queries:** 10,000

- **Name**: glove-100-angular
- **Source**: http://ann-benchmarks.com/glove-100-angular.hdf5
- **Metric**: Cosine
- **K Values**: [10, 50, 100]

## Targets & Use Cases

| k      | Recall target | Hit target | Use case                   |
| ------ | ------------- | ---------- | -------------------------- |
| 10     | 0.85–0.95     | 0.90–0.95  | Small corpora only         |
| **50** | **≥ 0.95**    | **≥ 0.99** | **Default RAG**            |
| 100    | 0.90–0.93     | ≈ 1.0      | Very large / noisy corpora |

As k increases, Recall@k can go down — but Hit@k must go up.

**Note:**
- **Parameter Semantics**: `m` and `ef` are not exactly equivalent between implementations:
  - **JVector**: `m` -> `max_connections`, `ef` -> `beam_width`.
  - **HNSWLib**: `m` -> `m`, `ef` -> `ef`.
- **HNSWLib**: `ef_construction` is fixed at 200. `ef` controls search recall/speed dynamically.
- **Metric Equations**:
  - **Euclidean (JVector)**: Similarity = $1 / (1 + d^2)$ (Higher is better)
  - **Euclidean (HNSWLib)**: Distance = $d^2$ (Lower is better)
  - **Cosine (JVector)**: Distance = $(1 - \cos(\theta)) / 2$ (Lower is better)
  - **Cosine (HNSWLib)**: Distance = $1 - \cos(\theta)$ (Lower is better)

## Scenario: Tiny

- **Dimensions**: 100
- **Vector Count**: 1000
- **Queries**: 10
- **Data Load Time**: 0.0024s
- **Ground Truth Time**: 0.0006s
- **DB Setup Time**: 1.0304s
- **JVector Total Time**: 0.03 min (1.61s)
- **HNSWLib Total Time**: 0.43 min (25.58s)

### k = 10

| m | ef | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms) | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
|---|---|---|---|---|---|---|---|---|---|---|---|
| 8 | 32 | 0.8500±0.1025 | 0.9900±0.0300 | 1.0000 | 1.0000 | 0.3367 | 3.7227 | 15.34±28.79 | 6.33±1.62 | 10.85±19.67 | 6.06±1.61 |
| 8 | 64 | 0.9100±0.0943 | 0.9900±0.0300 | 1.0000 | 1.0000 | 0.1216 | 2.7304 | 3.05±0.76 | 3.08±0.21 | 2.30±0.75 | 2.95±0.21 |
| 8 | 128 | 0.8800±0.1077 | 0.9900±0.0300 | 1.0000 | 1.0000 | 0.1799 | 2.3603 | 3.89±0.99 | 6.16±5.95 | 2.91±0.88 | 5.95±5.93 |
| 16 | 32 | 0.9800±0.0400 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0457 | 2.6983 | 3.57±1.81 | 4.10±0.73 | 2.83±1.80 | 3.89±0.71 |
| 16 | 64 | 0.9800±0.0400 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0445 | 2.4612 | 3.26±0.33 | 3.54±0.28 | 2.51±0.32 | 3.35±0.28 |
| 16 | 128 | 1.0000±0.0000 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0888 | 3.3155 | 3.68±2.15 | 7.05±0.59 | 2.76±1.39 | 6.84±0.59 |
| 32 | 32 | 0.9900±0.0300 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0842 | 2.8744 | 2.95±0.50 | 6.62±2.06 | 2.22±0.31 | 6.41±2.05 |
| 32 | 64 | 0.9900±0.0300 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0803 | 2.3978 | 2.37±0.12 | 4.63±0.23 | 1.84±0.11 | 4.44±0.22 |
| 32 | 128 | 1.0000±0.0000 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0668 | 2.3902 | 3.55±0.98 | 5.20±0.23 | 2.90±0.98 | 5.01±0.21 |

### k = 50

| m | ef | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms) | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
|---|---|---|---|---|---|---|---|---|---|---|---|
| 8 | 32 | 0.8100±0.0640 | 0.9720±0.0183 | 1.0000 | 1.0000 | 0.3367 | 3.7227 | 15.34±28.79 | 6.33±1.62 | 10.85±19.67 | 6.06±1.61 |
| 8 | 64 | 0.8420±0.0807 | 0.9720±0.0183 | 1.0000 | 1.0000 | 0.1216 | 2.7304 | 3.05±0.76 | 3.08±0.21 | 2.30±0.75 | 2.95±0.21 |
| 8 | 128 | 0.8540±0.0670 | 0.9880±0.0160 | 1.0000 | 1.0000 | 0.1799 | 2.3603 | 3.89±0.99 | 6.16±5.95 | 2.91±0.88 | 5.95±5.93 |
| 16 | 32 | 0.9620±0.0303 | 0.9960±0.0080 | 1.0000 | 1.0000 | 0.0457 | 2.6983 | 3.57±1.81 | 4.10±0.73 | 2.83±1.80 | 3.89±0.71 |
| 16 | 64 | 0.9720±0.0256 | 0.9960±0.0080 | 1.0000 | 1.0000 | 0.0445 | 2.4612 | 3.26±0.33 | 3.54±0.28 | 2.51±0.32 | 3.35±0.28 |
| 16 | 128 | 0.9760±0.0265 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0888 | 3.3155 | 3.68±2.15 | 7.05±0.59 | 2.76±1.39 | 6.84±0.59 |
| 32 | 32 | 0.9960±0.0080 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0842 | 2.8744 | 2.95±0.50 | 6.62±2.06 | 2.22±0.31 | 6.41±2.05 |
| 32 | 64 | 0.9920±0.0098 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0803 | 2.3978 | 2.37±0.12 | 4.63±0.23 | 1.84±0.11 | 4.44±0.22 |
| 32 | 128 | 0.9960±0.0080 | 1.0000±0.0000 | 1.0000 | 1.0000 | 0.0668 | 2.3902 | 3.55±0.98 | 5.20±0.23 | 2.90±0.98 | 5.01±0.21 |

### k = 100

| m | ef | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms) | H_Lat(ms) | J_Back(ms) | H_Back(ms) |
|---|---|---|---|---|---|---|---|---|---|---|---|
| 8 | 32 | 0.7600±0.0469 | 0.9590±0.0192 | 1.0000 | 1.0000 | 0.3367 | 3.7227 | 15.34±28.79 | 6.33±1.62 | 10.85±19.67 | 6.06±1.61 |
| 8 | 64 | 0.8010±0.0457 | 0.9590±0.0192 | 1.0000 | 1.0000 | 0.1216 | 2.7304 | 3.05±0.76 | 3.08±0.21 | 2.30±0.75 | 2.95±0.21 |
| 8 | 128 | 0.8210±0.0370 | 0.9830±0.0127 | 1.0000 | 1.0000 | 0.1799 | 2.3603 | 3.89±0.99 | 6.16±5.95 | 2.91±0.88 | 5.95±5.93 |
| 16 | 32 | 0.9490±0.0262 | 0.9930±0.0090 | 1.0000 | 1.0000 | 0.0457 | 2.6983 | 3.57±1.81 | 4.10±0.73 | 2.83±1.80 | 3.89±0.71 |
| 16 | 64 | 0.9660±0.0220 | 0.9930±0.0090 | 1.0000 | 1.0000 | 0.0445 | 2.4612 | 3.26±0.33 | 3.54±0.28 | 2.51±0.32 | 3.35±0.28 |
| 16 | 128 | 0.9680±0.0194 | 0.9980±0.0040 | 1.0000 | 1.0000 | 0.0888 | 3.3155 | 3.68±2.15 | 7.05±0.59 | 2.76±1.39 | 6.84±0.59 |
| 32 | 32 | 0.9920±0.0075 | 0.9990±0.0030 | 1.0000 | 1.0000 | 0.0842 | 2.8744 | 2.95±0.50 | 6.62±2.06 | 2.22±0.31 | 6.41±2.05 |
| 32 | 64 | 0.9920±0.0075 | 0.9990±0.0030 | 1.0000 | 1.0000 | 0.0803 | 2.3978 | 2.37±0.12 | 4.63±0.23 | 1.84±0.11 | 4.44±0.22 |
| 32 | 128 | 0.9950±0.0067 | 0.9990±0.0030 | 1.0000 | 1.0000 | 0.0668 | 2.3902 | 3.55±0.98 | 5.20±0.23 | 2.90±0.98 | 5.01±0.21 |
