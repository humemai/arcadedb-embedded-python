# Benchmark Results

This benchmark compares ArcadeDB's vector index implementations (JVector vs HNSWLib) across multiple dataset sizes and index parameters.

## Dataset Information

**2. GloVe-100-Angular (`glove-100-angular.hdf5`)**

- **File Size:** 463 MB
- **Total Vectors:** 1,183,514 (~1.2 Million)
- **Dimensions:** 100
- **Test Queries:** 10,000

* **Name**: glove-100-angular
* **Source**: http://ann-benchmarks.com/glove-100-angular.hdf5
* **Metric**: Cosine
* **K Values**: [10, 50, 100]

## Targets & Use Cases

| k      | Recall target | Hit target | Use case                   |
| ------ | ------------- | ---------- | -------------------------- |
| 10     | 0.85–0.95     | 0.90–0.95  | Small corpora only         |
| **50** | **≥ 0.95**    | **≥ 0.99** | **Default RAG**            |
| 100    | 0.90–0.93     | ≈ 1.0      | Very large / noisy corpora |

As k increases, Recall@k can go down — but Hit@k must go up.

**Note:**

- **Parameter Semantics**: `m` and `ef` are not exactly equivalent between implementations:
  - **JVector**: `m` -> `max_connections`, `ef` -> `beam_width`.
  - **HNSWLib**: `m` -> `m`, `ef` -> `ef`.
- **HNSWLib**: `ef_construction` is fixed at 200. `ef` controls search recall/speed dynamically.
- **Metric Equations**:
  - **Euclidean (JVector)**: Similarity = $1 / (1 + d^2)$ (Higher is better)
  - **Euclidean (HNSWLib)**: Distance = $d^2$ (Lower is better)
  - **Cosine (JVector)**: Distance = $(1 - \cos(\theta)) / 2$ (Lower is better)
  - **Cosine (HNSWLib)**: Distance = $1 - \cos(\theta)$ (Lower is better)

## Scenario: Tiny

- **Dimensions**: 100
- **Vector Count**: 1000
- **Queries**: 10
- **Data Load Time**: 0.0023s
- **Ground Truth Time**: 0.0014s
- **DB Setup Time**: 1.3613s

### k = 10

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)   | H_Lat(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ----------- | --------- |
| 8   | 32  | 0.8700±0.0900      | 0.9900±0.0300      | 1.0000      | 1.0000      | 0.3847     | 4.0789     | 10.77±10.77 | 5.67±1.98 |
| 8   | 64  | 0.9000±0.0775      | 0.9900±0.0300      | 1.0000      | 1.0000      | 0.1213     | 3.4310     | 2.11±0.64   | 3.62±0.66 |
| 8   | 128 | 0.9200±0.0600      | 0.9900±0.0300      | 1.0000      | 1.0000      | 0.0519     | 2.9552     | 2.35±0.82   | 4.30±0.91 |
| 16  | 32  | 0.9700±0.0640      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.0808     | 2.5200     | 4.53±1.96   | 4.53±0.47 |
| 16  | 64  | 0.9800±0.0400      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.0476     | 2.4158     | 2.02±0.20   | 3.18±0.40 |
| 16  | 128 | 0.9900±0.0300      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.0486     | 2.8730     | 1.71±0.73   | 5.92±1.08 |
| 32  | 32  | 1.0000±0.0000      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.0655     | 1.8771     | 2.79±0.46   | 5.53±0.22 |
| 32  | 64  | 1.0000±0.0000      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.0765     | 1.9408     | 3.11±0.40   | 4.53±0.53 |
| 32  | 128 | 1.0000±0.0000      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.1071     | 1.9503     | 4.61±1.25   | 4.54±0.17 |

### k = 50

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)   | H_Lat(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ----------- | --------- |
| 8   | 32  | 0.8180±0.0961      | 0.9720±0.0183      | 1.0000      | 1.0000      | 0.3847     | 4.0789     | 10.77±10.77 | 5.67±1.98 |
| 8   | 64  | 0.8460±0.0620      | 0.9720±0.0183      | 1.0000      | 1.0000      | 0.1213     | 3.4310     | 2.11±0.64   | 3.62±0.66 |
| 8   | 128 | 0.8560±0.0871      | 0.9880±0.0160      | 1.0000      | 1.0000      | 0.0519     | 2.9552     | 2.35±0.82   | 4.30±0.91 |
| 16  | 32  | 0.9560±0.0174      | 0.9960±0.0080      | 1.0000      | 1.0000      | 0.0808     | 2.5200     | 4.53±1.96   | 4.53±0.47 |
| 16  | 64  | 0.9760±0.0196      | 0.9960±0.0080      | 1.0000      | 1.0000      | 0.0476     | 2.4158     | 2.02±0.20   | 3.18±0.40 |
| 16  | 128 | 0.9840±0.0294      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.0486     | 2.8730     | 1.71±0.73   | 5.92±1.08 |
| 32  | 32  | 0.9960±0.0080      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.0655     | 1.8771     | 2.79±0.46   | 5.53±0.22 |
| 32  | 64  | 0.9960±0.0080      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.0765     | 1.9408     | 3.11±0.40   | 4.53±0.53 |
| 32  | 128 | 0.9960±0.0080      | 1.0000±0.0000      | 1.0000      | 1.0000      | 0.1071     | 1.9503     | 4.61±1.25   | 4.54±0.17 |

### k = 100

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)   | H_Lat(ms) |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ----------- | --------- |
| 8   | 32  | 0.7750±0.0738      | 0.9590±0.0192      | 1.0000      | 1.0000      | 0.3847     | 4.0789     | 10.77±10.77 | 5.67±1.98 |
| 8   | 64  | 0.7980±0.0331      | 0.9590±0.0192      | 1.0000      | 1.0000      | 0.1213     | 3.4310     | 2.11±0.64   | 3.62±0.66 |
| 8   | 128 | 0.8140±0.0443      | 0.9830±0.0127      | 1.0000      | 1.0000      | 0.0519     | 2.9552     | 2.35±0.82   | 4.30±0.91 |
| 16  | 32  | 0.9390±0.0234      | 0.9930±0.0090      | 1.0000      | 1.0000      | 0.0808     | 2.5200     | 4.53±1.96   | 4.53±0.47 |
| 16  | 64  | 0.9640±0.0174      | 0.9930±0.0090      | 1.0000      | 1.0000      | 0.0476     | 2.4158     | 2.02±0.20   | 3.18±0.40 |
| 16  | 128 | 0.9710±0.0164      | 0.9980±0.0040      | 1.0000      | 1.0000      | 0.0486     | 2.8730     | 1.71±0.73   | 5.92±1.08 |
| 32  | 32  | 0.9930±0.0078      | 0.9990±0.0030      | 1.0000      | 1.0000      | 0.0655     | 1.8771     | 2.79±0.46   | 5.53±0.22 |
| 32  | 64  | 0.9920±0.0098      | 0.9990±0.0030      | 1.0000      | 1.0000      | 0.0765     | 1.9408     | 3.11±0.40   | 4.53±0.53 |
| 32  | 128 | 0.9930±0.0064      | 0.9990±0.0030      | 1.0000      | 1.0000      | 0.1071     | 1.9503     | 4.61±1.25   | 4.54±0.17 |

## Scenario: Small

- **Dimensions**: 100
- **Vector Count**: 10000
- **Queries**: 100
- **Data Load Time**: 0.0057s
- **Ground Truth Time**: 0.0351s
- **DB Setup Time**: 1.1721s

### k = 10

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)  | H_Lat(ms)   |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ---------- | ----------- |
| 8   | 32  | 0.6920±0.2682      | 0.9100±0.1170      | 1.0000      | 1.0000      | 0.2299     | 89.6488    | 3.12±12.68 | 10.24±28.63 |
| 8   | 64  | 0.7300±0.2504      | 0.9100±0.1170      | 1.0000      | 1.0000      | 0.3240     | 83.3079    | 2.11±0.78  | 5.94±1.22   |
| 8   | 128 | 0.7400±0.2608      | 0.9320±0.0947      | 0.9800      | 1.0000      | 0.2699     | 88.2843    | 2.09±0.38  | 7.83±1.85   |
| 16  | 32  | 0.8840±0.1468      | 0.9790±0.0496      | 1.0000      | 1.0000      | 0.2386     | 188.1022   | 2.18±0.30  | 11.43±2.95  |
| 16  | 64  | 0.8970±0.1338      | 0.9790±0.0496      | 1.0000      | 1.0000      | 0.2804     | 186.6337   | 2.77±0.60  | 12.63±2.88  |
| 16  | 128 | 0.9040±0.1455      | 0.9850±0.0357      | 1.0000      | 1.0000      | 0.4925     | 191.5483   | 3.53±1.22  | 15.54±3.84  |
| 32  | 32  | 0.9580±0.0802      | 0.9930±0.0292      | 1.0000      | 1.0000      | 0.4660     | 183.8483   | 4.59±1.11  | 13.51±13.83 |
| 32  | 64  | 0.9630±0.0627      | 0.9930±0.0292      | 1.0000      | 1.0000      | 0.6879     | 176.4914   | 4.04±0.74  | 14.18±4.86  |
| 32  | 128 | 0.9660±0.0724      | 0.9960±0.0196      | 1.0000      | 1.0000      | 1.0932     | 180.5427   | 5.14±1.22  | 14.87±3.75  |

### k = 50

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)  | H_Lat(ms)   |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ---------- | ----------- |
| 8   | 32  | 0.6104±0.2130      | 0.8508±0.1143      | 1.0000      | 1.0000      | 0.2299     | 89.6488    | 3.12±12.68 | 10.24±28.63 |
| 8   | 64  | 0.6492±0.2030      | 0.8508±0.1143      | 1.0000      | 1.0000      | 0.3240     | 83.3079    | 2.11±0.78  | 5.94±1.22   |
| 8   | 128 | 0.6644±0.2028      | 0.8828±0.0930      | 1.0000      | 1.0000      | 0.2699     | 88.2843    | 2.09±0.38  | 7.83±1.85   |
| 16  | 32  | 0.8072±0.1327      | 0.9400±0.0544      | 1.0000      | 1.0000      | 0.2386     | 188.1022   | 2.18±0.30  | 11.43±2.95  |
| 16  | 64  | 0.8300±0.1241      | 0.9400±0.0544      | 1.0000      | 1.0000      | 0.2804     | 186.6337   | 2.77±0.60  | 12.63±2.88  |
| 16  | 128 | 0.8402±0.1276      | 0.9586±0.0413      | 1.0000      | 1.0000      | 0.4925     | 191.5483   | 3.53±1.22  | 15.54±3.84  |
| 32  | 32  | 0.9112±0.0774      | 0.9764±0.0236      | 1.0000      | 1.0000      | 0.4660     | 183.8483   | 4.59±1.11  | 13.51±13.83 |
| 32  | 64  | 0.9218±0.0713      | 0.9764±0.0236      | 1.0000      | 1.0000      | 0.6879     | 176.4914   | 4.04±0.74  | 14.18±4.86  |
| 32  | 128 | 0.9296±0.0626      | 0.9850±0.0195      | 1.0000      | 1.0000      | 1.0932     | 180.5427   | 5.14±1.22  | 14.87±3.75  |

### k = 100

| m   | ef  | J_Recall (Avg±Std) | H_Recall (Avg±Std) | J_Hit (Avg) | H_Hit (Avg) | J_Build(s) | H_Build(s) | J_Lat(ms)  | H_Lat(ms)   |
| --- | --- | ------------------ | ------------------ | ----------- | ----------- | ---------- | ---------- | ---------- | ----------- |
| 8   | 32  | 0.5426±0.1835      | 0.7963±0.1177      | 1.0000      | 1.0000      | 0.2299     | 89.6488    | 3.12±12.68 | 10.24±28.63 |
| 8   | 64  | 0.5804±0.1765      | 0.7963±0.1177      | 1.0000      | 1.0000      | 0.3240     | 83.3079    | 2.11±0.78  | 5.94±1.22   |
| 8   | 128 | 0.5957±0.1791      | 0.8379±0.0987      | 1.0000      | 1.0000      | 0.2699     | 88.2843    | 2.09±0.38  | 7.83±1.85   |
| 16  | 32  | 0.7491±0.1263      | 0.9081±0.0619      | 1.0000      | 1.0000      | 0.2386     | 188.1022   | 2.18±0.30  | 11.43±2.95  |
| 16  | 64  | 0.7774±0.1205      | 0.9081±0.0619      | 1.0000      | 1.0000      | 0.2804     | 186.6337   | 2.77±0.60  | 12.63±2.88  |
| 16  | 128 | 0.7895±0.1209      | 0.9351±0.0486      | 1.0000      | 1.0000      | 0.4925     | 191.5483   | 3.53±1.22  | 15.54±3.84  |
| 32  | 32  | 0.8685±0.0786      | 0.9576±0.0321      | 1.0000      | 1.0000      | 0.4660     | 183.8483   | 4.59±1.11  | 13.51±13.83 |
| 32  | 64  | 0.8845±0.0729      | 0.9576±0.0321      | 1.0000      | 1.0000      | 0.6879     | 176.4914   | 4.04±0.74  | 14.18±4.86  |
| 32  | 128 | 0.8910±0.0702      | 0.9747±0.0236      | 1.0000      | 1.0000      | 1.0932     | 180.5427   | 5.14±1.22  | 14.87±3.75  |
