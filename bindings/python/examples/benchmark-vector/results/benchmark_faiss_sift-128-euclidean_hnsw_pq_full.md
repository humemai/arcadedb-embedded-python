# FAISS HNSW_PQ Benchmark

## Dataset Information

**SIFT-128-Euclidean**
- Vectors: 1,000,000
- Dimensions: 128
- Queries: 10,000
- Metric: Euclidean

- **Name**: sift-128-euclidean
- **Source**: http://ann-benchmarks.com/sift-128-euclidean.hdf5
- **Metric**: Euclidean
- **K Values**: [10]
- **Algorithm**: hnsw_pq

**Note:**
- **Metric Equations**:
  - **Euclidean**: Similarity = $1 / (1 + d^2)$ (Higher is better)
  - **Cosine**: Distance = $(1 - \cos(\theta)) / 2$ (Lower is better)

## dataset_size: full

- **Dimensions**: 128
- **Vector Count**: 1000000
- **Queries**: 10000
- **Data Load Time**: 0.4681s
- **Ground Truth Time**: 0.0000s
- **Index Build Time**: 443.6125s
- **Total Time**: 187.86 min (11271.56s)

### k = 10

| M | m | nbits | efConstruction | efConstructionFactor | efSearch | Recall (Before) | Recall (After) | Latency (ms) (Before) | Latency (ms) (After) | Build (s) | Warmup (s) | Open (s) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 16 | 8 | 8 | 128 | 8 | 64 | 0.3143 | 0.3143 | 0.16 | 0.17 | 443.61 | 0.0002 | 0.1138 |
| 16 | 8 | 8 | 128 | 8 | 128 | 0.3178 | 0.3178 | 0.34 | 0.38 | 443.61 | 0.0002 | 0.1138 |
| 16 | 8 | 8 | 128 | 8 | 256 | 0.3167 | 0.3167 | 0.63 | 0.77 | 443.61 | 0.0002 | 0.1138 |
| 16 | 16 | 8 | 128 | 8 | 64 | 0.5430 | 0.5430 | 0.30 | 0.25 | 800.43 | 0.0003 | 0.1056 |
| 16 | 16 | 8 | 128 | 8 | 128 | 0.5483 | 0.5483 | 0.52 | 0.85 | 800.43 | 0.0003 | 0.1056 |
| 16 | 16 | 8 | 128 | 8 | 256 | 0.5491 | 0.5491 | 1.24 | 1.10 | 800.43 | 0.0003 | 0.1056 |
| 16 | 32 | 8 | 128 | 8 | 64 | 0.7041 | 0.7041 | 0.26 | 0.24 | 1156.89 | 0.0002 | 0.0954 |
| 16 | 32 | 8 | 128 | 8 | 128 | 0.7112 | 0.7112 | 0.44 | 0.45 | 1156.89 | 0.0002 | 0.0954 |
| 16 | 32 | 8 | 128 | 8 | 256 | 0.7135 | 0.7135 | 0.76 | 0.77 | 1156.89 | 0.0002 | 0.0954 |
| 16 | 8 | 8 | 256 | 16 | 64 | 0.3162 | 0.3162 | 0.13 | 0.13 | 467.72 | 0.0002 | 0.0649 |
| 16 | 8 | 8 | 256 | 16 | 128 | 0.3183 | 0.3183 | 0.17 | 0.19 | 467.72 | 0.0002 | 0.0649 |
| 16 | 8 | 8 | 256 | 16 | 256 | 0.3166 | 0.3166 | 0.34 | 0.34 | 467.72 | 0.0002 | 0.0649 |
| 16 | 16 | 8 | 256 | 16 | 64 | 0.5447 | 0.5447 | 0.19 | 0.17 | 786.77 | 0.0001 | 0.0624 |
| 16 | 16 | 8 | 256 | 16 | 128 | 0.5484 | 0.5484 | 0.30 | 0.33 | 786.77 | 0.0001 | 0.0624 |
| 16 | 16 | 8 | 256 | 16 | 256 | 0.5492 | 0.5492 | 0.57 | 0.55 | 786.77 | 0.0001 | 0.0624 |
| 16 | 32 | 8 | 256 | 16 | 64 | 0.7065 | 0.7065 | 0.26 | 0.25 | 1141.74 | 0.0002 | 0.0877 |
| 16 | 32 | 8 | 256 | 16 | 128 | 0.7121 | 0.7121 | 0.44 | 0.43 | 1141.74 | 0.0002 | 0.0877 |
| 16 | 32 | 8 | 256 | 16 | 256 | 0.7139 | 0.7139 | 0.76 | 0.83 | 1141.74 | 0.0002 | 0.0877 |
| 32 | 8 | 8 | 256 | 8 | 64 | 0.3186 | 0.3186 | 0.12 | 0.11 | 388.76 | 0.0001 | 0.1283 |
| 32 | 8 | 8 | 256 | 8 | 128 | 0.3185 | 0.3185 | 0.20 | 0.17 | 388.76 | 0.0001 | 0.1283 |
| 32 | 8 | 8 | 256 | 8 | 256 | 0.3170 | 0.3170 | 0.31 | 0.35 | 388.76 | 0.0001 | 0.1283 |
| 32 | 16 | 8 | 256 | 8 | 64 | 0.5481 | 0.5481 | 0.19 | 0.22 | 690.73 | 0.0003 | 0.1178 |
| 32 | 16 | 8 | 256 | 8 | 128 | 0.5495 | 0.5495 | 0.33 | 0.35 | 690.73 | 0.0003 | 0.1178 |
| 32 | 16 | 8 | 256 | 8 | 256 | 0.5495 | 0.5495 | 0.64 | 0.63 | 690.73 | 0.0003 | 0.1178 |
| 32 | 32 | 8 | 256 | 8 | 64 | 0.7107 | 0.7107 | 0.30 | 0.32 | 1128.10 | 0.0003 | 0.1346 |
| 32 | 32 | 8 | 256 | 8 | 128 | 0.7133 | 0.7133 | 0.53 | 0.57 | 1128.10 | 0.0003 | 0.1346 |
| 32 | 32 | 8 | 256 | 8 | 256 | 0.7139 | 0.7139 | 0.91 | 0.95 | 1128.10 | 0.0003 | 0.1346 |
| 32 | 8 | 8 | 512 | 16 | 64 | 0.3185 | 0.3185 | 0.12 | 0.10 | 727.95 | 0.0001 | 0.1610 |
| 32 | 8 | 8 | 512 | 16 | 128 | 0.3184 | 0.3184 | 0.18 | 0.18 | 727.95 | 0.0001 | 0.1610 |
| 32 | 8 | 8 | 512 | 16 | 256 | 0.3163 | 0.3163 | 0.34 | 0.37 | 727.95 | 0.0001 | 0.1610 |
| 32 | 16 | 8 | 512 | 16 | 64 | 0.5489 | 0.5489 | 0.20 | 0.20 | 1273.97 | 0.0002 | 0.1367 |
| 32 | 16 | 8 | 512 | 16 | 128 | 0.5497 | 0.5497 | 0.31 | 0.37 | 1273.97 | 0.0002 | 0.1367 |
| 32 | 16 | 8 | 512 | 16 | 256 | 0.5494 | 0.5494 | 0.60 | 0.60 | 1273.97 | 0.0002 | 0.1367 |
| 32 | 32 | 8 | 512 | 16 | 64 | 0.7115 | 0.7115 | 0.29 | 0.31 | 1956.42 | 0.0002 | 0.1471 |
| 32 | 32 | 8 | 512 | 16 | 128 | 0.7135 | 0.7135 | 0.53 | 0.51 | 1956.42 | 0.0002 | 0.1471 |
| 32 | 32 | 8 | 512 | 16 | 256 | 0.7140 | 0.7140 | 0.91 | 0.91 | 1956.42 | 0.0002 | 0.1471 |
